<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>MapLibreum Map</title>
    <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no" />
    <link href="https://unpkg.com/maplibre-gl@3.4.0/dist/maplibre-gl.css" rel="stylesheet" onerror="this.onerror=null;this.href='https://cdn.jsdelivr.net/npm/maplibre-gl@3.4.0/dist/maplibre-gl.css';" />
    
    
    
    
    <style>
        body {
            margin: 0;
            padding: 0;
        }

        #maplibreum_ce1467434e0f4d3e999b6ca4770b3887 {
            width: 100%;
            height: 500px;
            position: relative;
        }

        .maplibreum-legend {
            position: absolute;
            bottom: 10px;
            left: 10px;
            background: rgba(255, 255, 255, 0.8);
            padding: 6px;
            font-size: 12px;
            border-radius: 4px;
        }

        .maplibreum-legend div {
            display: flex;
            align-items: center;
            margin-bottom: 4px;
        }

        .maplibreum-legend span {
            display: inline-block;
            width: 12px;
            height: 12px;
            margin-right: 4px;

        }

        #maplibreum_ce1467434e0f4d3e999b6ca4770b3887 { width: 100%; height: 500px; }



    </style>
</head>
<body>
<div class="maplibreum-example-banner">
  <h1>Add A Geojson Line</h1>
  <p>Original MapLibre example: <a href="https://maplibre.org/maplibre-gl-js/docs/examples/add-a-geojson-line/" target="_blank" rel="noopener">https://maplibre.org/maplibre-gl-js/docs/examples/add-a-geojson-line/</a></p>
  <p>Generated from test_add_a_geojson_line.py by the automated test suite.</p>
</div>

    <div id="maplibreum_ce1467434e0f4d3e999b6ca4770b3887">
        
        
    </div>
    <!-- MapLibre GL JS with CDN fallbacks -->
    <script>
        // Function to load MapLibre GL JS with fallbacks
        function loadMapLibreGL() {
            return new Promise((resolve, reject) => {
                // Try loading from unpkg.com first
                const script1 = document.createElement('script');
                script1.src = 'https://unpkg.com/maplibre-gl@3.4.0/dist/maplibre-gl.js';
                script1.onload = () => resolve();
                script1.onerror = () => {
                    // Fallback to jsDelivr
                    const script2 = document.createElement('script');
                    script2.src = 'https://cdn.jsdelivr.net/npm/maplibre-gl@3.4.0/dist/maplibre-gl.js';
                    script2.onload = () => resolve();
                    script2.onerror = () => {
                        // Last fallback to cdnjs
                        const script3 = document.createElement('script');
                        script3.src = 'https://cdnjs.cloudflare.com/ajax/libs/maplibre-gl/3.4.0/maplibre-gl.min.js';
                        script3.onload = () => resolve();
                        script3.onerror = () => reject(new Error('Failed to load MapLibre GL JS from all CDNs'));
                        document.head.appendChild(script3);
                    };
                    document.head.appendChild(script2);
                };
                document.head.appendChild(script1);
            });
        }

        // Function to show error message when MapLibre fails to load
        function showMapError(message) {
            const mapDiv = document.getElementById('maplibreum_ce1467434e0f4d3e999b6ca4770b3887');
            if (mapDiv) {
                mapDiv.innerHTML = `
                    <div style="
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        height: 100%;
                        background-color: #f8f9fa;
                        border: 2px dashed #dee2e6;
                        border-radius: 8px;
                        text-align: center;
                        padding: 20px;
                        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
                    ">
                        <div>
                            <div style="font-size: 48px; color: #6c757d; margin-bottom: 16px;">üó∫Ô∏è</div>
                            <div style="font-size: 18px; color: #495057; margin-bottom: 8px;">Map Loading Error</div>
                            <div style="font-size: 14px; color: #6c757d; margin-bottom: 16px;">${message}</div>
                            <div style="font-size: 12px; color: #6c757d;">
                                This may be due to network restrictions or CDN availability issues.
                                <br>Try refreshing the page or check your internet connection.
                            </div>
                        </div>
                    </div>
                `;
            }
        }

        // Load MapLibre and initialize map
        loadMapLibreGL().then(() => {
            // MapLibre loaded successfully, check if it's available
            if (typeof maplibregl === 'undefined') {
                throw new Error('MapLibre GL JS loaded but not available');
            }
            
            initializeMap();
        }).catch(error => {
            console.error('Failed to load MapLibre GL JS:', error);
            showMapError('Failed to load MapLibre GL JavaScript library');
        });

        function initializeMap() {
            try {
        // Initialize map
        var map = new maplibregl.Map({"container": "maplibreum_ce1467434e0f4d3e999b6ca4770b3887", "style": "https://tiles.openfreemap.org/styles/bright", "center": [-122.486052, 37.830348], "zoom": 15});
        window.maplibreumMaps = window.maplibreumMaps || {};
        window.maplibreumMaps["maplibreum_ce1467434e0f4d3e999b6ca4770b3887"] = map;
        window.maplibreumMapsLoaded = window.maplibreumMapsLoaded || {};
        map.once('load', function() {
            window.maplibreumMapsLoaded["maplibreum_ce1467434e0f4d3e999b6ca4770b3887"] = true;
        });


// Add controls






map.on('load', function() {
    
    // Add sources
    
    map.addSource("source_14a35062ce2046408e4029199298e3fe", {"type": "geojson", "data": {"type": "Feature", "properties": {}, "geometry": {"type": "LineString", "coordinates": [[-122.48369693756104, 37.83381888486939], [-122.48348236083984, 37.83317489144141], [-122.48339653015138, 37.83270036637107], [-122.48356819152832, 37.832056363179625], [-122.48404026031496, 37.83114119107971], [-122.48404026031496, 37.83049717427869], [-122.48348236083984, 37.829920943955045], [-122.48356819152832, 37.82954808664175], [-122.48507022857666, 37.82944639795659], [-122.48610019683838, 37.82880236636284], [-122.48695850372314, 37.82931081282506], [-122.48700141906738, 37.83080223556934], [-122.48751640319824, 37.83168351665737], [-122.48803138732912, 37.832158048267786], [-122.48888969421387, 37.83297152392784], [-122.48987674713133, 37.83263257682617], [-122.49043464660643, 37.832937629287755], [-122.49125003814696, 37.832429207817725], [-122.49163627624512, 37.832564787218985], [-122.49223709106445, 37.83337825839438], [-122.49378204345702, 37.83368330777276]]}}});
    

    // Register images used by style layers
    

    
    

    // Add layers
    
    map.addLayer({"id": "route", "type": "line", "paint": {"line-color": "#888", "line-width": 8}, "layout": {"line-join": "round", "line-cap": "round"}, "source": "source_14a35062ce2046408e4029199298e3fe"});
    

    // Popups
    

    // Tooltips
    

    // Tile Layers
    var tileLayers = [
    
    ];

    // Overlay Layers
    var overlayLayers = [
    
    ];

    

    

    // Markers
    

    

    

    

    

    // Queued camera actions
    
});

    

    

    

            } catch (error) {
                console.error('Error initializing map:', error);
                showMapError('Error initializing the map: ' + error.message);
            }
        }
    </script>
    
    <!-- Load additional libraries with fallbacks -->
    
    
    
    
    
</body>

</html>